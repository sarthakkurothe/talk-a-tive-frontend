{"ast":null,"code":"import _regeneratorRuntime from\"D:/Projects and Development/OS Projects/CHAT APP/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Projects and Development/OS Projects/CHAT APP/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"D:/Projects and Development/OS Projects/CHAT APP/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Projects and Development/OS Projects/CHAT APP/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import Button from\"../../components/button\";import Input from\"../../components/input\";import{useNavigate}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Form=function Form(_ref){var _ref$isSignInPage=_ref.isSignInPage,isSignInPage=_ref$isSignInPage===void 0?true:_ref$isSignInPage;var _useState=useState(_objectSpread(_objectSpread({},!isSignInPage&&{fullName:''}),{},{email:'',password:''})),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var navigate=useNavigate();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res,resData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log('data :>> ',data);e.preventDefault();_context.next=4;return fetch(\"http://localhost:8000/api/\".concat(isSignInPage?'login':'register'),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});case 4:res=_context.sent;if(!(res.status===400)){_context.next=9;break;}alert('Invalid credentials');_context.next=13;break;case 9:_context.next=11;return res.json();case 11:resData=_context.sent;if(resData.token){localStorage.setItem('user:token',resData.token);localStorage.setItem('user:detail',JSON.stringify(resData.user));navigate('/');}case 13:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"bg-light h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\" bg-white w-[600px] h-[800px] shadow-lg rounded-lg flex flex-col justify-center items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\" text-4xl font-extrabold\",children:[\"Welcome \",isSignInPage&&'Back']}),/*#__PURE__*/_jsx(\"div\",{className:\" text-xl font-light mb-14\",children:isSignInPage?'Sign in to get explored':'Sign up to get started'}),/*#__PURE__*/_jsxs(\"form\",{className:\"flex flex-col items-center w-full\",onSubmit:function onSubmit(e){return handleSubmit(e);},children:[!isSignInPage&&/*#__PURE__*/_jsx(Input,{label:\"Full name\",name:\"name\",placeholder:\"Enter your full name\",className:\"mb-6 w-[50%]\",value:data.fullName,onChange:function onChange(e){return setData(_objectSpread(_objectSpread({},data),{},{fullName:e.target.value}));}}),/*#__PURE__*/_jsx(Input,{label:\"Email address\",type:\"email\",name:\"email\",placeholder:\"Enter your email\",className:\"mb-6 w-[50%]\",value:data.email,onChange:function onChange(e){return setData(_objectSpread(_objectSpread({},data),{},{email:e.target.value}));}}),/*#__PURE__*/_jsx(Input,{label:\"Password\",type:\"password\",name:\"password\",placeholder:\"Enter your Password\",className:\"mb-14 w-[50%]\",value:data.password,onChange:function onChange(e){return setData(_objectSpread(_objectSpread({},data),{},{password:e.target.value}));}}),/*#__PURE__*/_jsx(Button,{label:isSignInPage?'Sign in':'Sign up',type:\"submit\",className:\"w-[50%] mb-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[isSignInPage?\"Didn't have an account?\":\"Alredy have an account?\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\" text-primary cursor-pointer underline\",onClick:function onClick(){return navigate(\"/users/\".concat(isSignInPage?'sign_up':'sign_in'));},children:isSignInPage?'Sign up':'Sign in'})]})]})});};export default Form;","map":{"version":3,"names":["useState","Button","Input","useNavigate","jsxs","_jsxs","jsx","_jsx","Form","_ref","_ref$isSignInPage","isSignInPage","_useState","_objectSpread","fullName","email","password","_useState2","_slicedToArray","data","setData","navigate","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","res","resData","wrap","_callee$","_context","prev","next","console","log","preventDefault","fetch","concat","method","headers","body","JSON","stringify","sent","status","alert","json","token","localStorage","setItem","user","stop","_x","apply","arguments","className","children","onSubmit","label","name","placeholder","value","onChange","target","type","onClick"],"sources":["D:/Projects and Development/OS Projects/CHAT APP/client/src/modules/Form/index.js"],"sourcesContent":["import { useState } from \"react\"\r\nimport Button from \"../../components/button\"\r\nimport Input from \"../../components/input\"\r\nimport { useNavigate } from \"react-router-dom\"\r\n\r\nconst Form = ({\r\n    isSignInPage = true,\r\n}) => {\r\n    const [data, setData] = useState({\r\n        ...(!isSignInPage && {\r\n            fullName: ''\r\n        }),\r\n        email: '',\r\n        password: ''\r\n    })\r\n    const navigate = useNavigate()\r\n\r\n    const handleSubmit = async(e) => {\r\n        console.log('data :>> ', data);\r\n        e.preventDefault()\r\n        const res = await fetch(`http://localhost:8000/api/${isSignInPage ? 'login' : 'register'}`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n\r\n        if(res.status === 400) {\r\n            alert('Invalid credentials')\r\n        }else{\r\n            const resData = await res.json()\r\n            if(resData.token) {\r\n                localStorage.setItem('user:token', resData.token)\r\n                localStorage.setItem('user:detail', JSON.stringify(resData.user))\r\n                navigate('/')\r\n            }\r\n        }\r\n    }\r\n  return (\r\n    <div className=\"bg-light h-screen flex items-center justify-center\">\r\n        <div className=\" bg-white w-[600px] h-[800px] shadow-lg rounded-lg flex flex-col justify-center items-center\">\r\n            <div className=\" text-4xl font-extrabold\">Welcome {isSignInPage && 'Back'}</div>\r\n            <div className=\" text-xl font-light mb-14\">{isSignInPage ? 'Sign in to get explored' : 'Sign up to get started'}</div>\r\n            <form className=\"flex flex-col items-center w-full\" onSubmit={(e) => handleSubmit(e)}>\r\n            { !isSignInPage && <Input label=\"Full name\" name=\"name\" placeholder=\"Enter your full name\" className=\"mb-6 w-[50%]\" value={data.fullName} onChange={(e) => setData({ ...data, fullName: e.target.value }) } /> }\r\n            <Input label=\"Email address\" type=\"email\" name=\"email\" placeholder=\"Enter your email\" className=\"mb-6 w-[50%]\" value={data.email} onChange={(e) => setData({ ...data, email: e.target.value }) }/>\r\n            <Input label=\"Password\" type=\"password\" name=\"password\" placeholder=\"Enter your Password\" className=\"mb-14 w-[50%]\" value={data.password} onChange={(e) => setData({ ...data, password: e.target.value }) }/>\r\n            <Button label={isSignInPage ? 'Sign in': 'Sign up'} type='submit' className=\"w-[50%] mb-2\" />\r\n            </form>\r\n            <div>{ isSignInPage ? \"Didn't have an account?\" : \"Alredy have an account?\"} <span className=\" text-primary cursor-pointer underline\" onClick={() => navigate(`/users/${isSignInPage ? 'sign_up' : 'sign_in'}`)}>{ isSignInPage ? 'Sign up' : 'Sign in'}</span></div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Form\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}